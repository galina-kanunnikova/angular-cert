{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { map } from 'rxjs';\nimport { FormControl } from '@angular/forms';\nlet AutocompleteComponent = class AutocompleteComponent {\n  constructor() {\n    this.control = new FormControl();\n  }\n  ngOnInit() {\n    this.control.valueChanges.subscribe(x => {\n      console.log(' value changed');\n      console.log(x);\n      this.filteredData = this.listData.pipe(map(items => items.filter(item => item.name.toLowerCase().indexOf(x.toLowerCase()) > -1)));\n    });\n    this.filteredData?.subscribe(res => console.log(res));\n    this.listData?.subscribe(res => console.log(res));\n  }\n};\n__decorate([Input()], AutocompleteComponent.prototype, \"title\", void 0);\n__decorate([Input()], AutocompleteComponent.prototype, \"listData\", void 0);\n__decorate([Input()], AutocompleteComponent.prototype, \"doesMatchSearch\", void 0);\nAutocompleteComponent = __decorate([Component({\n  selector: 'app-autocomplete',\n  template: `\n                <input id=\"myInput\"\n                       [formControl]=\"control\"\n                       placeholder=\"Text\">\n                <ng-container appAutocomplete *ngFor=\"let data of filteredData | async\">\n                  <input style=\"color: black; margin-bottom: 10px;\"  [innerHTML]=\"data.name | bold: control.value\"></input>\n                </ng-container>\n              `,\n  styleUrls: ['./autocomplete.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'appAutocomplete'\n})], AutocompleteComponent);\nexport { AutocompleteComponent };","map":{"version":3,"mappings":";AAAA,SACEA,SAAS,EACTC,KAAK,EAGLC,uBAAuB,QAClB,eAAe;AAEtB,SAAuCC,GAAG,QAAyB,MAAM;AACzE,SAASC,WAAW,QAAQ,gBAAgB;AAiB5C,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAqB;EAAlCC,YAAA;IAEC,KAAAC,OAAO,GAAG,IAAIH,WAAW,EAAE;EA2B5B;EAnBCI,QAAQA,CAAA;IACP,IAAI,CAACD,OAAO,CAACE,YAAY,CAACC,SAAS,CAACC,CAAC,IAAG;MACrCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BD,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd,IAAI,CAACG,YAAY,GAAI,IAAI,CAACC,QAAS,CAACC,IAAI,CACtCb,GAAG,CAACc,KAAK,IAAIA,KAAK,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,OAAO,CAACX,CAAC,CAACU,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC1F;IACJ,CAAC,CAAC;IAEF,IAAI,CAACP,YAAY,EAAEJ,SAAS,CAAEa,GAAG,IAC9BX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC,CAChB;IACH,IAAI,CAACR,QAAQ,EAAEL,SAAS,CAAEa,GAAG,IAC5BX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC,CAChB;EAGD;CAED;AA1BSC,UAAA,EAARvB,KAAK,EAAE,oDAAgB;AACfuB,UAAA,EAARvB,KAAK,EAAE,uDAA8B;AAC7BuB,UAAA,EAARvB,KAAK,EAAE,8DAA0D;AALtDI,qBAAqB,GAAAmB,UAAA,EAdjCxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,kBAAkB;EAC5BC,QAAQ,EAAE;;;;;;;eAOG;EACbC,SAAS,EAAE,CAAC,8BAA8B,CAAC;EAC3CC,eAAe,EAAE1B,uBAAuB,CAAC2B,MAAM;EAC/CC,QAAQ,EAAE;CACX,CAAC,GACWzB,qBAAqB,CA6BjC;SA7BYA,qBAAqB","names":["Component","Input","ChangeDetectionStrategy","map","FormControl","AutocompleteComponent","constructor","control","ngOnInit","valueChanges","subscribe","x","console","log","filteredData","listData","pipe","items","filter","item","name","toLowerCase","indexOf","res","__decorate","selector","template","styleUrls","changeDetection","OnPush","exportAs"],"sourceRoot":"","sources":["/Users/gkanunnikova/angular3/angular-cert/src/app/autocomplete/autocomplete.component.ts"],"sourcesContent":["import {\n  Component,\n  Input,\n  OnInit,\n  TemplateRef,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport { switchMap } from 'rxjs/operators';\nimport { merge, Observable, startWith, map, filter, flatMap } from 'rxjs';\nimport { FormControl } from '@angular/forms';\nimport {QuizService} from '../quiz.service';\n\n@Component({\n  selector: 'app-autocomplete',\n  template: `\n                <input id=\"myInput\"\n                       [formControl]=\"control\"\n                       placeholder=\"Text\">\n                <ng-container appAutocomplete *ngFor=\"let data of filteredData | async\">\n                  <input style=\"color: black; margin-bottom: 10px;\"  [innerHTML]=\"data.name | bold: control.value\"></input>\n                </ng-container>\n              `,\n  styleUrls: ['./autocomplete.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  exportAs: 'appAutocomplete'\n})\nexport class AutocompleteComponent implements OnInit{\n\n control = new FormControl();\n @Input() title?: string;\n @Input() listData?: Observable<any[]>;\n @Input() doesMatchSearch?: (item: any, search: string) => boolean;\n\n filteredData?: Observable<any[]>;\n tmp?: string[];\n\n ngOnInit() {\n  this.control.valueChanges.subscribe(x => {\n     console.log(' value changed')\n     console.log(x)\n     this.filteredData =  this.listData!.pipe(\n       map(items => items.filter(item => item.name.toLowerCase().indexOf(x.toLowerCase()) > -1))\n     )\n  })\n\n  this.filteredData?.subscribe( res =>\n     console.log(res)\n    )\n  this.listData?.subscribe( res =>\n   console.log(res)\n  )\n\n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}