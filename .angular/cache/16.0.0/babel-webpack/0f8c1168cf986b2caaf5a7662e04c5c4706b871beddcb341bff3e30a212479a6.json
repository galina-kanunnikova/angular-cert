{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet QuizMakerComponent = class QuizMakerComponent {\n  constructor(quizService) {\n    this.quizService = quizService;\n    this.categories$ = this.quizService.getAllCategories();\n    //console.log(quizService.getAllCategories())\n  }\n\n  checkCategory(catId) {\n    this.categories$.subscribe(res => {\n      let selectedcat = res.find(cat => cat.id === Number(catId));\n      this.categorySelectedName = selectedcat.name.split(\":\")[0].toLowerCase();\n    });\n  }\n  categoryOptionSelected(id) {\n    this.categorySelected = id;\n    this.checkCategory(id);\n    this.subcategorySelected = null;\n  }\n  subcategoryOptionSelected(id) {\n    this.subcategorySelected = id;\n    this.categorySelected = null;\n  }\n  createQuiz(difficulty) {\n    var id = \"0\";\n    if (this.subcategorySelected) {\n      id = this.subcategorySelected;\n    } else {\n      id = this.categorySelected;\n    }\n    this.quizService.difficultySelected = difficulty;\n    this.quizService.categorySelected = id;\n    this.questions$ = this.quizService.createQuiz(id, difficulty);\n  }\n};\nQuizMakerComponent = __decorate([Component({\n  selector: 'app-quiz-maker',\n  templateUrl: './quiz-maker.component.html',\n  styleUrls: ['./quiz-maker.component.css']\n})], QuizMakerComponent);\nexport { QuizMakerComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAAO,eAAe;AAUvC,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAkB;EAS7BC,YAAsBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAC/B,IAAI,CAACC,WAAW,GAAG,IAAI,CAACD,WAAW,CAACE,gBAAgB,EAAE;IACtD;EACF;;EAEAC,aAAaA,CAACC,KAAa;IACzB,IAAI,CAACH,WAAW,CAACI,SAAS,CAACC,GAAG,IAAG;MAC9B,IAAIC,WAAW,GAAGD,GAAG,CAACE,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,EAAE,KAAKC,MAAM,CAACP,KAAK,CAAC,CAAC;MAC3D,IAAI,CAACQ,oBAAoB,GAAGL,WAAY,CAACM,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;IACzE,CAAC,CAAC;EACL;EAEFC,sBAAsBA,CAACN,EAAU;IAC7B,IAAI,CAACO,gBAAgB,GAAGP,EAAE;IAC1B,IAAI,CAACP,aAAa,CAACO,EAAE,CAAC;IACtB,IAAI,CAACQ,mBAAmB,GAAG,IAAI;EACnC;EAEAC,yBAAyBA,CAACT,EAAU;IAC9B,IAAI,CAACQ,mBAAmB,GAAGR,EAAE;IAC7B,IAAI,CAACO,gBAAgB,GAAG,IAAI;EAChC;EAEFG,UAAUA,CAACC,UAAkB;IAC5B,IAAIX,EAAE,GAAG,GAAG;IACZ,IAAI,IAAI,CAACQ,mBAAmB,EAAE;MAACR,EAAE,GAAG,IAAI,CAACQ,mBAAmB;KAAC,MACzD;MACJR,EAAE,GAAG,IAAI,CAACO,gBAAgB;;IAE1B,IAAI,CAACjB,WAAW,CAACsB,kBAAkB,GAAGD,UAAU;IAChD,IAAI,CAACrB,WAAW,CAACiB,gBAAgB,GAAGP,EAAE;IACtC,IAAI,CAACa,UAAU,GAAG,IAAI,CAACvB,WAAW,CAACoB,UAAU,CAACV,EAAE,EAAEW,UAAwB,CAAC;EAC5E;CAED;AA3CYvB,kBAAkB,GAAA0B,UAAA,EAL9B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,GACW7B,kBAAkB,CA2C9B;SA3CYA,kBAAkB","names":["Component","QuizMakerComponent","constructor","quizService","categories$","getAllCategories","checkCategory","catId","subscribe","res","selectedcat","find","cat","id","Number","categorySelectedName","name","split","toLowerCase","categoryOptionSelected","categorySelected","subcategorySelected","subcategoryOptionSelected","createQuiz","difficulty","difficultySelected","questions$","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/gkanunnikova/angular3/angular-cert/src/app/quiz-maker/quiz-maker.component.ts"],"sourcesContent":["import {Component} from '@angular/core';\r\nimport {Category, Difficulty, Question} from '../data.models';\r\nimport {Observable, map} from 'rxjs';\r\nimport {QuizService} from '../quiz.service';\r\n\r\n@Component({\r\n  selector: 'app-quiz-maker',\r\n  templateUrl: './quiz-maker.component.html',\r\n  styleUrls: ['./quiz-maker.component.css']\r\n})\r\nexport class QuizMakerComponent {\r\n\r\n  categorySelected: any;\r\n  subcategorySelected: any;\r\n  categorySelectedName: any;\r\n\r\n  categories$: Observable<Category[]>;\r\n  questions$!: Observable<Question[]>;\r\n\r\n  constructor(protected quizService: QuizService) {\r\n    this.categories$ = this.quizService.getAllCategories()\r\n    //console.log(quizService.getAllCategories())\r\n  }\r\n\r\n  checkCategory(catId: string): void {\r\n    this.categories$.subscribe(res => {\r\n       let selectedcat = res.find(cat => cat.id === Number(catId))\r\n       this.categorySelectedName = selectedcat!.name.split(\":\")[0].toLowerCase()\r\n       });\r\n    }\r\n\r\n  categoryOptionSelected(id: string): void {\r\n      this.categorySelected = id;\r\n      this.checkCategory(id)\r\n      this.subcategorySelected = null\r\n  }\r\n\r\n  subcategoryOptionSelected(id: string): void {\r\n        this.subcategorySelected = id;\r\n        this.categorySelected = null\r\n    }\r\n\r\n  createQuiz(difficulty: string): void {\r\n   var id = \"0\"\r\n   if (this.subcategorySelected) {id = this.subcategorySelected}\r\n   else{\r\n   id = this.categorySelected\r\n   }\r\n   this.quizService.difficultySelected = difficulty\r\n   this.quizService.categorySelected = id\r\n   this.questions$ = this.quizService.createQuiz(id, difficulty as Difficulty);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}